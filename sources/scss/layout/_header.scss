@use "@scss/abstracts/variables" as *;
@use "@scss/abstracts/function" as *;
@use "@scss/abstracts/mixins" as *;

/* --- header --- */
.main-header {
	position: relative;
	width: 100%;
	height: auto;
	background-color: $white;
	z-index: 999;
	padding: 15px 0;
	box-shadow: 0 0 10px 0 rgba($black, 0.2);

	.brand {
		display: block;
		width: 64px;
		flex: 0 0 auto;
	}

	/* nav */
	.nav-menu {
		flex: 1 1 auto;
		padding-left: rem(15px);
	}

	.navigation {
		display: none;
		word-break: keep-all;

		@include respond-above('lg') {
			display: block;
		}
		/* stylelint-disable max-nesting-depth */
		nav {
			margin-right: 30px;
			
			> ul {
				display: flex;
			}

			ul {
				padding: 0;
				margin: 0;
				list-style: none;
	
				li {
					padding: 0;
					list-style: none;

					a {
						display: block;
						padding: 10px 20px;
						text-decoration: none;
					}

					&.menu-item-has-children {
						position: relative;

						>a {
							padding-right: 40px;

							&::after {
								position: absolute;
								transform: rotate(135deg);
								top: 13px;
								right: 20px;
								width: 10px;
								height: 10px;
								border-right: 1px solid $primary-100;
								border-top: 1px solid $primary-100;
								content: "";
								transition: border-color 0.3s;
							}
						}
					}

					&:hover {
						> a {
							background-color: $primary-100;
							color: $white;

							&::after {
								border-color: $white;
							}
						}

						>ul {
							opacity: 1;
							pointer-events: auto;
						}
					}
				}
	
				&.sub-menu {
					position: absolute;
					left: 0;
					top: 100%;
					min-width: 200px;
					opacity: 0;
					pointer-events: none;
					transition: opacity 0.3s;

					.sub-menu {
						left: 100%;
						top: 0;
					}

					li {
						a {
							display: block;
							color: $white;
							background-color: $primary-100;
						}

						&.menu-item-has-children {
							>a {
								&::after {
									top: 17px;
									transform: rotate(45deg);
									border-color: $white;
								}
							}
						}

						&:hover {
							> a {
								background-color: $white;
								color: $primary-100;

								&::after {
									border-color: $primary-100;
								}
							}
						}
						
						&:not(:last-child) {
							a {
								border-bottom: 1px solid rgba($white, 0.3);
							}
						}
					}
				}
			}
		}
		/* stylelint-enable max-nesting-depth */

	}
}