@use "sass:math";
@use "@scss/abstracts/variables" as *;
@use "@scss/abstracts/mixins" as *;

/**
 * Basic typography style for copy text
 */

html {
    height: 100%;

    @include rem-baseline(16px);

    text-size-adjust: 100%;
}

body {
    display: flex;
    flex-wrap: wrap;
    max-width: 100%;
    min-height: 100%;
    height: auto;
    color: $body-color;

    // font-size: $font-size-base;
    font-size: 16px;
    font-family: $font-family-base;
    line-height: 1.5;
    font-weight: 500;
    background-color: $body-bg;

    // @include custom-scroll;
    @media screen and (-ms-high-contrast: active),
    (-ms-high-contrast: none) {
        height: 100%;
    }

    &.scroll-fixed {
        overflow: hidden;
    }
}

// Heading style
@each $key, $size in $heading-size {
    #{$key},
    .#{$key} {
        margin-bottom: $hgroup-margin-bottom;
        color: $hgroup-color;
        font-family: $hgroup-font-family;
        font-size: 30px;
        font-weight: $hgroup-font-weight;
        line-height: $hgroup-line-height;
        word-break: keep-all;

        a {
            display: block;
            color: inherit;
            text-decoration: none;
        }

        span {
            font-weight: 400;
        }

        @if $key == "h1" {
            @include respond-below(xl) {
                font-size: rem(42px, 42px);
            }

            @include respond-below(md) {
                font-size: rem(36px, 36px);
            }
        } @else if $key == "h2" {
            @include respond-below(xl) {
                font-size: rem(34px, 34px);
            }

            @include respond-below(md) {
                font-size: rem(29px, 29px);
            }
        } @else if $key == "h3" {
            @include respond-below(md) {
                font-size: rem(24px, 24px);
            }
        } @else if $key == "h4" {
            @include respond-below(md) {
                font-size: rem(20px, 20px);
            }
        } @else if $key == "h5" {
            line-height: 1.3;

            @include respond-below(md) {
                font-size: rem(18px, 18px);
            }
        } @else if $key == "h6" {
            line-height: 1.3;

            @include respond-below(md) {
                font-size: rem(17px, 17px);
            }
        }
    }
}

p {
    margin-bottom: rem(20px, 20px);

    &:last-child {
        margin-bottom: 0;
    }
}

.eyebrow-text {
    position: relative;
    font-size: rem(14px, 14px);
    padding-left: rem(10px, 10px);
    margin-bottom: rem(16px, 16px);
    display: inline-block;

    &::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 2px;
        height: 100%;
        background-color: $secondary-100;
    }
}

:is(ul, ol) {
    --ulol-left-padding: #{rem(20px, 20px)};

    padding-left: var(--ulol-left-padding);
    margin-bottom: rem(15px, 15px);

    li {
        padding-top: rem(6px, 6px);
        padding-bottom: rem(6px, 6px);

        &:last-child {
            padding-bottom: 0;
        }
    }
}

ul {
    >li {
        &::marker {
            color: $secondary-100;
            font-size: 1.2em;
        }

        .bullet-styled {
            position: relative;
            list-style: none;

            &::before {
                position: absolute;
                left: calc(var(--ulol-left-padding) * -1);
                color: $primary-100;
                font-weight: 700;
                line-height: 1;
            }

            >ul {
                >li {
                    &::before {
                        border: 1px solid $gray;
                        height: rem(6px, 6px);
                        width: rem(6px, 6px);
                    }

                    >ul {
                        >li {
                            --ulbox: 4px;

                            &::marker {
                                color: currentcolor;
                            }

                            &::before {
                                top: em(16px, 16px);
                                background: currentcolor;
                                border-radius: 0;
                            }
                        }
                    }
                }
            }
        }

        .bullet-check {
            padding: 0 0 0 rem(36px, 36px);
            margin-bottom: rem(10px, 10px);
            position: relative;

            &::before {
                @include icon("k");

                position: absolute;
                top: 0;
                left: 0;
                width: var(--ulbox);
                height: var(--ulbox);
                font-size: 24px;
                color: $primary-100;

                @include flex-center;

                .bg-dark & {
                    // color: $white;
                }
            }

            &.-secondary {
                &::before {
                    color: $secondary-100;
                }
            }
        }
    }
}

ol {
    >li {
        .bullet-styled & {
            counter-increment: counter-1;

            &::before {
                content: counter(counter-1) ". ";
                top: 10px;
                font-size: em(14px, 14px);
            }

            >ol {
                counter-reset: counter-2;

                >li {
                    counter-increment: counter-2;

                    &::before {
                        content: counter(counter-2, lower-alpha) ". ";
                    }
                }
            }
        }
    }
}

blockquote {
    position: relative;
    display: block;
    margin-bottom: rem(25px, 25px);
    padding: rem(20px, 20px);
    text-align: left;
    line-height: 2;
    font-size: rem(18px, 18px);
    font-style: italic;
    color: $black;
    background-color: $gray;
    border-left: rem(4px, 4px) solid $primary-100;

    p {
        font-size: inherit;
        font-weight: inherit;
        line-height: inherit;
        color: inherit;
    }
}

hr {
    width: 100%;
    height: 0;
    margin: rem(30px, 30px) auto;
    border: 0 $black solid;
    border-top-width: rem(1px, 1px);
    overflow: visible;
}

img {
    display: inline-block;
    height: auto;
    max-width: 100%;
    vertical-align: top;
    border: none;

    &[src$=".svg"] {
        max-height: 100%;
    }
}

picture {
    display: inline-block;
    vertical-align: top;
}

/* Link */
a {
    color: $primary-100;
    transition:
        background-color 0.3s ease 0s,
        color 0.3s ease 0s;
    text-decoration: underline;

    &:hover {
        color: $secondary-100;
        outline: none;
    }

    &.tab-outline {
        outline-offset: rem(3px, 3px);
        outline: 1px solid;
    }

    p & {
        font-weight: 700;

        &:focus {
            outline: none;
            border: 1px solid;
            border-radius: 6px;
        }
    }

    .bg-dark & {
        color: $white;

        &:hover {
            color: $secondary-100;
        }
    }
}

/* Tables */
table {
    border-spacing: 0;
    border-collapse: collapse;

    td {
        text-align: left;
        font-weight: normal;
    }
}

.table-responsive {
    display: block;
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    -ms-overflow-style: -ms-autohiding-scrollbar;
}

.table-bordered {
    width: 100%;
    max-width: 100%;
    text-align: left;

    td,
    th {
        vertical-align: bottom;
        border-bottom: rem(1px, 1px) solid $gray;
        padding: rem(10px, 10px);
    }
}

/* stylelint-disable selector-class-pattern */
.fancybox__content {
    >.carousel__button.is-close {
        top: rem(-50px, -50px);
        right: 0;
    }
}
/* stylelint-enable selector-class-pattern */